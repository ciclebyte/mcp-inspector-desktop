{
  "project": "mcp-inspector-desktop",
  "version": "1.0.0",
  "description": "MCP Inspector Desktop - Tauri 应用，将 MCP Inspector 命令行工具封装为图形化界面",
  "features": [
    {
      "id": "F-001",
      "category": "setup",
      "milestone": "mvp",
      "description": "Tauri + React 项目初始化完成",
      "steps": [
        "运行 npm create tauri-app@latest 创建项目",
        "选择 React + TypeScript 模板",
        "验证项目可以运行 (npm run tauri dev)",
        "检查 package.json 和 tauri.conf.json 配置正确"
      ],
      "passes": true,
      "priority": "p0"
    },
    {
      "id": "F-002",
      "category": "setup",
      "milestone": "mvp",
      "description": "Rust 后端目录结构创建",
      "steps": [
        "创建 src-tauri/src/inspector/ 目录",
        "创建 src-tauri/src/config/ 目录",
        "创建 src-tauri/src/state.rs 文件",
        "创建 src-tauri/src/inspector/mod.rs 文件",
        "创建 src-tauri/src/inspector/process.rs 文件",
        "创建 src-tauri/src/config/mod.rs 文件",
        "创建 src-tauri/src/config/storage.rs 文件",
        "创建 src-tauri/src/commands.rs 文件"
      ],
      "passes": true,
      "priority": "p0"
    },
    {
      "id": "F-003",
      "category": "setup",
      "milestone": "mvp",
      "description": "前端 UI 框架配置完成",
      "steps": [
        "安装 TailwindCSS",
        "安装 shadcn/ui",
        "配置 tailwind.config.js",
        "创建基础布局组件",
        "验证样式正常加载"
      ],
      "passes": true,
      "priority": "p0"
    },
    {
      "id": "F-004",
      "category": "setup",
      "milestone": "mvp",
      "description": "@modelcontextprotocol/inspector 依赖安装",
      "steps": [
        "运行 npm install @modelcontextprotocol/inspector",
        "验证 node_modules 中包含该包",
        "确认 inspector 的 CLI 路径正确"
      ],
      "passes": true,
      "priority": "p0"
    },
    {
      "id": "F-005",
      "category": "rust",
      "milestone": "mvp",
      "description": "AppState 状态管理实现",
      "steps": [
        "在 src-tauri/src/state.rs 中实现 AppState 结构体",
        "包含 inspector: Mutex<Option<InspectorHandle>>",
        "包含 config: Mutex<AppConfig>",
        "包含 log_tx: Mutex<Option<mpsc::Sender<String>>>",
        "在 main.rs 中初始化 AppState"
      ],
      "passes": true,
      "priority": "p0"
    },
    {
      "id": "F-006",
      "category": "rust",
      "milestone": "mvp",
      "description": "InspectorHandle 进程管理实现",
      "steps": [
        "实现 InspectorHandle::spawn 方法",
        "实现端口自动分配 (client_port: 5174+, server_port: 6277+)",
        "实现环境变量注入",
        "实现 InspectorHandle::kill 方法",
        "实现 client_url() 方法返回访问 URL"
      ],
      "passes": true,
      "priority": "p0"
    },
    {
      "id": "F-007",
      "category": "rust",
      "milestone": "mvp",
      "description": "Tauri Commands 实现",
      "steps": [
        "实现 start_inspector command",
        "实现 stop_inspector command",
        "实现 get_inspector_status command",
        "在 main.rs 中注册所有 commands"
      ],
      "passes": true,
      "priority": "p0"
    },
    {
      "id": "F-008",
      "category": "frontend",
      "milestone": "mvp",
      "description": "Launcher UI 实现",
      "steps": [
        "创建 Launcher 组件",
        "实现服务器路径选择输入框",
        "实现工作目录选择输入框",
        "实现环境变量编辑器 (Key-Value 对)",
        "实现启动按钮",
        "UI 能够正确调用 start_inspector command"
      ],
      "passes": true,
      "priority": "p0"
    },
    {
      "id": "F-009",
      "category": "frontend",
      "milestone": "mvp",
      "description": "Inspector Webview 嵌入",
      "steps": [
        "创建 InspectorView 组件",
        "使用 iframe 或 Tauri WebviewWindow 嵌入 Inspector UI",
        "正确加载 localhost:CLIENT_PORT",
        "处理 CORS 问题（如需要）"
      ],
      "passes": true,
      "priority": "p0"
    },
    {
      "id": "F-010",
      "category": "frontend",
      "milestone": "mvp",
      "description": "进程控制按钮实现",
      "steps": [
        "实现停止按钮",
        "实现重启按钮",
        "实现进程状态指示器 (运行中/已停止)",
        "按钮状态正确响应 Inspector 进程状态"
      ],
      "passes": true,
      "priority": "p0"
    },
    {
      "id": "F-101",
      "category": "stability",
      "milestone": "stability",
      "description": "AppConfig 配置持久化实现",
      "steps": [
        "实现 AppConfig 结构体 (serde 序列化)",
        "实现 AppConfig::load() 方法",
        "实现 AppConfig::save() 方法",
        "实现原子写入 (临时文件 + rename)",
        "配置文件保存在系统配置目录"
      ],
      "passes": false,
      "priority": "p0"
    },
    {
      "id": "F-102",
      "category": "stability",
      "milestone": "stability",
      "description": "ServerProfile 结构体实现",
      "steps": [
        "实现 ServerProfile 结构体",
        "包含 id, name, command, working_directory, env_vars 字段",
        "包含 created_at, last_used_at 时间戳",
        "实现 Profile 的创建和更新方法"
      ],
      "passes": false,
      "priority": "p0"
    },
    {
      "id": "F-103",
      "category": "stability",
      "milestone": "stability",
      "description": "最近使用 Profile 列表",
      "steps": [
        "实现 get_recent_profiles command",
        "实现 save_profile command",
        "实现 delete_profile command",
        "Launcher UI 显示最近使用的 Profile",
        "点击 Profile 快速填充配置"
      ],
      "passes": false,
      "priority": "p1"
    },
    {
      "id": "F-104",
      "category": "stability",
      "milestone": "stability",
      "description": "实时日志面板实现",
      "steps": [
        "Rust 端捕获 Inspector 进程的 stdout/stderr",
        "通过 Tauri Event 实时推送日志到前端",
        "前端创建可折叠的日志面板组件",
        "日志按时间顺序显示",
        "支持日志搜索和过滤"
      ],
      "passes": false,
      "priority": "p1"
    },
    {
      "id": "F-105",
      "category": "stability",
      "milestone": "stability",
      "description": "端口冲突处理",
      "steps": [
        "使用 portpicker crate 自动选择可用端口",
        "端口分配失败时显示友好的错误提示",
        "支持自定义端口范围"
      ],
      "passes": false,
      "priority": "p1"
    },
    {
      "id": "F-106",
      "category": "stability",
      "milestone": "stability",
      "description": "错误处理与 Toast 提示",
      "steps": [
        "实现统一的错误处理机制",
        "所有 Rust 错误正确传递到前端",
        "使用 shadcn/ui 的 Toast 组件显示错误",
        "错误信息清晰可读，包含解决建议"
      ],
      "passes": false,
      "priority": "p1"
    },
    {
      "id": "F-107",
      "category": "stability",
      "milestone": "stability",
      "description": "进程崩溃恢复",
      "steps": [
        "实现 InspectorHandle 的 Drop trait",
        "使用 kill_on_drop 确保进程清理",
        "应用启动时扫描并清理残留进程",
        "进程意外退出时通知用户"
      ],
      "passes": false,
      "priority": "p0"
    },
    {
      "id": "F-201",
      "category": "production",
      "milestone": "production",
      "description": "系统托盘集成",
      "steps": [
        "创建 Tauri SystemTray",
        "实现托盘菜单 (显示/隐藏/退出)",
        "最小化到托盘而非关闭",
        "托盘图标显示应用状态"
      ],
      "passes": false,
      "priority": "p2"
    },
    {
      "id": "F-202",
      "category": "production",
      "milestone": "production",
      "description": "自动更新机制",
      "steps": [
        "集成 Tauri Updater Plugin",
        "配置 GitHub Releases 更新源",
        "启动时检查更新",
        "显示更新提示和下载进度"
      ],
      "passes": false,
      "priority": "p2"
    },
    {
      "id": "F-203",
      "category": "production",
      "milestone": "production",
      "description": "CI/CD 配置",
      "steps": [
        "创建 .github/workflows/release.yml",
        "配置 Windows/macOS/Linux 构建矩阵",
        "配置自动上传 artifacts",
        "配置自动创建 GitHub Release"
      ],
      "passes": false,
      "priority": "p2"
    },
    {
      "id": "F-204",
      "category": "production",
      "milestone": "production",
      "description": "配置导入导出",
      "steps": [
        "实现导出配置功能 (JSON 文件)",
        "实现导入配置功能",
        "验证导入的配置格式",
        "UI 提供导入/导出按钮"
      ],
      "passes": false,
      "priority": "p2"
    },
    {
      "id": "F-205",
      "category": "production",
      "milestone": "production",
      "description": "应用打包和分发",
      "steps": [
        "配置 tauri.conf.json 打包参数",
        "配置应用图标和名称",
        "生成 Windows MSI 安装包",
        "生成 macOS DMG",
        "生成 Linux AppImage"
      ],
      "passes": false,
      "priority": "p2"
    }
  ]
}